[gd_scene load_steps=22 format=3 uid="uid://curknihdfnhn5"]

[ext_resource type="Texture2D" uid="uid://d11s64mkgkavw" path="res://assets/graphics/background/PRO_workroom.png" id="1_2atqe"]
[ext_resource type="Script" path="res://scene/levels/intro/detective_workshop.gd" id="1_qgogg"]
[ext_resource type="Texture2D" uid="uid://b0a4bakr1xbox" path="res://assets/graphics/bg_items/PRO_workroom_item_key_back.png" id="2_vpmgt"]
[ext_resource type="Texture2D" uid="uid://cwmup8nw7fyhs" path="res://assets/graphics/bg_items/PRO_workroom_item_key.png" id="3_a8you"]
[ext_resource type="Texture2D" uid="uid://cwc7chy3gp15r" path="res://assets/graphics/navigation_right.png" id="5_elc4c"]
[ext_resource type="Texture2D" uid="uid://ct0ypvd0qvdnf" path="res://assets/graphics/background/PRO_worktable.png" id="5_hys4o"]
[ext_resource type="Texture2D" uid="uid://cfjkp7qehte3d" path="res://assets/graphics/navigation_left.png" id="6_2eo8u"]
[ext_resource type="Texture2D" uid="uid://ddyk3matl5jpf" path="res://assets/graphics/bg_items/PRO_worktable_item_key_back.png" id="6_854fu"]
[ext_resource type="BitMap" uid="uid://dksc5vbnb1w6" path="res://assets/graphics/bg_items/PRO_workroom_box_bitmask.png" id="6_stipv"]
[ext_resource type="Texture2D" uid="uid://bnnfwnda1kk4i" path="res://assets/graphics/bg_items/PRO_worktable_item_key.png" id="7_ggche"]
[ext_resource type="Texture2D" uid="uid://cju143yslixl4" path="res://assets/graphics/bg_items/PRO_workroom_box.png" id="7_ti5px"]
[ext_resource type="Texture2D" uid="uid://22hvaodqb8id" path="res://assets/graphics/bg_items/PRO_workroom_box_open.png" id="7_tv7lj"]
[ext_resource type="BitMap" uid="uid://c1sw06q2xqx21" path="res://assets/graphics/bg_items/PRO_workroom_box_open_bitmask.png" id="8_kopa5"]
[ext_resource type="Texture2D" uid="uid://refjj53ny22f" path="res://assets/graphics/background/PRO_window_closeup.png" id="12_pwe2f"]
[ext_resource type="Script" path="res://scene/levels/intro/puzzle.gd" id="15_bjkf0"]
[ext_resource type="Texture2D" uid="uid://cfo2r72w1kxky" path="res://assets/graphics/background/PRO_box_closeup.png" id="15_x444l"]
[ext_resource type="FontFile" uid="uid://ccltikahp4ms2" path="res://assets/font/VCR_OSD_MONO_1.001.ttf" id="17_0i7su"]

[sub_resource type="GDScript" id="GDScript_dlhvd"]
script/source = "extends TextureRect


# Called when the node enters the scene tree for the first time.
func _ready():
	if Inventory.check_item(\"Bedroom Key\"):
		queue_free()


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta):
	pass
"

[sub_resource type="GDScript" id="GDScript_rfebk"]
script/source = "extends TextureButton


# Called when the node enters the scene tree for the first time.
func _ready():
	if GlobalDatabase.check_switch(\"puzzle_solved\"):
		hide()


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta):
	pass
"

[sub_resource type="GDScript" id="GDScript_no8ek"]
script/source = "extends TextureButton


# Called when the node enters the scene tree for the first time.
func _ready():
	if GlobalDatabase.check_switch(\"puzzle_solved\"):
		show()


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta):
	pass
"

[sub_resource type="GDScript" id="GDScript_q5o8c"]
script/source = "# Worktable Key

extends TextureButton


# Called when the node enters the scene tree for the first time.
func _ready():
	if Inventory.check_item(\"Bedroom Key\"):
		queue_free()


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta):
	pass
"

[node name="DetectiveWorkshop" type="Node"]
script = ExtResource("1_qgogg")

[node name="Main" type="Node2D" parent="."]

[node name="Background" type="TextureRect" parent="Main"]
offset_right = 1920.0
offset_bottom = 1080.0
texture = ExtResource("1_2atqe")

[node name="TextureRect2" type="TextureRect" parent="Main"]
visible = false
offset_right = 1920.0
offset_bottom = 1080.0
texture = ExtResource("2_vpmgt")

[node name="Key" type="TextureRect" parent="Main"]
offset_left = 952.0
offset_top = 573.0
offset_right = 974.0
offset_bottom = 596.0
texture = ExtResource("3_a8you")
script = SubResource("GDScript_dlhvd")

[node name="MysteryBox" type="TextureButton" parent="Main"]
offset_top = 729.0
offset_right = 210.0
offset_bottom = 922.0
texture_normal = ExtResource("7_ti5px")
texture_click_mask = ExtResource("6_stipv")
script = SubResource("GDScript_rfebk")

[node name="MysteryBoxOpened" type="TextureButton" parent="Main"]
visible = false
offset_top = 729.0
offset_right = 210.0
offset_bottom = 922.0
texture_normal = ExtResource("7_tv7lj")
texture_click_mask = ExtResource("8_kopa5")
script = SubResource("GDScript_no8ek")

[node name="BedroomDoor" type="Area2D" parent="Main"]
position = Vector2(652, -153)

[node name="Interactable" type="CollisionPolygon2D" parent="Main/BedroomDoor"]
polygon = PackedVector2Array(798, 192, 1294, 224, 1220, 656, 1142, 722, 1063, 1123, 714, 1010)

[node name="KeyInteractable" type="Area2D" parent="Main"]

[node name="Interactable" type="CollisionPolygon2D" parent="Main/KeyInteractable"]
polygon = PackedVector2Array(924, 528, 1014, 557, 1022, 691, 737, 573)

[node name="Documents" type="Area2D" parent="Main"]

[node name="Interactable" type="CollisionPolygon2D" parent="Main/Documents"]
position = Vector2(-253, -166)
polygon = PackedVector2Array(802, 674, 884, 566, 978, 535, 1046, 553, 1201, 668, 989, 718)

[node name="Radio" type="Area2D" parent="Main"]

[node name="Interactable" type="CollisionPolygon2D" parent="Main/Radio"]
position = Vector2(288, 62)
polygon = PackedVector2Array(783, 487, 739, 496, 735, 569, 809, 637, 861, 618, 860, 547)

[node name="Bottles" type="Area2D" parent="Main"]

[node name="Interactable" type="CollisionPolygon2D" parent="Main/Bottles"]
position = Vector2(415, -43)
polygon = PackedVector2Array(742, 498, 834, 500, 863, 517, 865, 655, 807, 701, 773, 644, 714, 635)

[node name="Blinds" type="Area2D" parent="Main"]

[node name="Interactable" type="CollisionPolygon2D" parent="Main/Blinds"]
position = Vector2(-651, -172)
polygon = PackedVector2Array(730, 246, 759, 241, 753, 210, 651, 216, 651, 766, 822, 718)

[node name="Corkboard" type="Area2D" parent="Main"]

[node name="Interactable" type="CollisionPolygon2D" parent="Main/Corkboard"]
position = Vector2(-189, -223)
polygon = PackedVector2Array(867, 243, 333, 277, 419, 746, 886, 599)

[node name="RightNavigation" type="TextureButton" parent="Main"]
anchors_preset = 6
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = 1824.0
offset_top = 492.0
offset_right = 1920.0
offset_bottom = 588.0
grow_horizontal = 0
grow_vertical = 2
texture_normal = ExtResource("5_elc4c")
ignore_texture_size = true
stretch_mode = 5

[node name="LeftNavigation" type="TextureButton" parent="Main"]
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = 492.0
offset_right = 96.0
offset_bottom = 588.0
grow_vertical = 2
texture_normal = ExtResource("6_2eo8u")
ignore_texture_size = true
stretch_mode = 5

[node name="TableCloseup" type="Node2D" parent="."]
visible = false

[node name="CloseupTexture" type="TextureRect" parent="TableCloseup"]
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("5_hys4o")

[node name="CloseupTextureWithItem" type="TextureRect" parent="TableCloseup"]
visible = false
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("6_854fu")

[node name="WorktableKey" type="TextureButton" parent="TableCloseup"]
offset_left = 840.0
offset_top = 675.0
offset_right = 939.0
offset_bottom = 785.0
texture_normal = ExtResource("7_ggche")
script = SubResource("GDScript_q5o8c")

[node name="PictureFrame" type="Area2D" parent="TableCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="TableCloseup/PictureFrame"]
position = Vector2(723, -82)
polygon = PackedVector2Array(564, 236, 859, 253, 831, 569, 665, 513, 639, 644, 537, 662)

[node name="ReturnButton" type="Button" parent="TableCloseup"]
offset_left = 87.0
offset_top = 943.0
offset_right = 200.0
offset_bottom = 996.0
mouse_filter = 1
theme_override_font_sizes/font_size = 48
text = "Return"

[node name="WindowCloseup" type="Node2D" parent="."]
visible = false

[node name="Background" type="TextureRect" parent="WindowCloseup"]
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("12_pwe2f")

[node name="WindowReturnButton" type="Button" parent="WindowCloseup"]
offset_left = 87.0
offset_top = 943.0
offset_right = 200.0
offset_bottom = 996.0
mouse_filter = 1
theme_override_font_sizes/font_size = 48
text = "Return"

[node name="BlindsCloseup" type="Area2D" parent="WindowCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="WindowCloseup/BlindsCloseup"]
position = Vector2(-335, -212)
polygon = PackedVector2Array(2033, 209, 647, 220, 664, 1292, 2016, 1283)

[node name="BoxCloseup" type="Node2D" parent="."]
visible = false
script = ExtResource("15_bjkf0")

[node name="TextureRect" type="TextureRect" parent="BoxCloseup"]
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("15_x444l")

[node name="BoxReturnButton" type="Button" parent="BoxCloseup"]
offset_left = 87.0
offset_top = 943.0
offset_right = 200.0
offset_bottom = 996.0
mouse_filter = 1
theme_override_font_sizes/font_size = 48
text = "Return"

[node name="TopButton1" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/TopButton1"]
position = Vector2(-335, -212)
polygon = PackedVector2Array(921, 425, 873, 521, 970, 521)

[node name="TopButton2" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/TopButton2"]
position = Vector2(-184, -211)
polygon = PackedVector2Array(921, 425, 873, 521, 970, 521)

[node name="TopButton3" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/TopButton3"]
position = Vector2(-32, -211)
polygon = PackedVector2Array(921, 425, 873, 521, 970, 521)

[node name="TopButton4" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/TopButton4"]
position = Vector2(119, -211)
polygon = PackedVector2Array(921, 425, 873, 521, 970, 521)

[node name="TopButton5" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/TopButton5"]
position = Vector2(278, -211)
polygon = PackedVector2Array(921, 425, 873, 521, 970, 521)

[node name="TopButton6" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/TopButton6"]
position = Vector2(429, -211)
polygon = PackedVector2Array(921, 425, 873, 521, 970, 521)

[node name="BottomButton1" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/BottomButton1"]
position = Vector2(1507, 1266)
rotation = -3.14159
polygon = PackedVector2Array(921, 425, 873, 521, 970, 521)

[node name="BottomButton2" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/BottomButton2"]
position = Vector2(1659, 1266)
rotation = -3.14159
polygon = PackedVector2Array(921, 425, 873, 521, 970, 521)

[node name="BottomButton3" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/BottomButton3"]
position = Vector2(1810, 1266)
rotation = -3.14159
polygon = PackedVector2Array(921, 425, 873, 521, 970, 521)

[node name="BottomButton4" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/BottomButton4"]
position = Vector2(1962, 1266)
rotation = -3.14159
polygon = PackedVector2Array(921, 425, 873, 521, 970, 521)

[node name="BottomButton5" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/BottomButton5"]
position = Vector2(2119, 1266)
rotation = -3.14159
polygon = PackedVector2Array(921, 425, 873, 521, 970, 521)

[node name="BottomButton6" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/BottomButton6"]
position = Vector2(2271, 1266)
rotation = -3.14159
polygon = PackedVector2Array(921, 425, 873, 521, 970, 521)

[node name="AnswerButton" type="Area2D" parent="BoxCloseup"]

[node name="Interactable" type="CollisionPolygon2D" parent="BoxCloseup/AnswerButton"]
position = Vector2(1862, 1446)
rotation = -3.14159
polygon = PackedVector2Array(957.002, 500.996, 839.002, 500.996, 839.002, 458.996, 957.002, 458.996)

[node name="TextLabel1" type="Label" parent="BoxCloseup"]
offset_left = 519.0
offset_top = 349.0
offset_right = 653.0
offset_bottom = 708.0
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_colors/font_color = Color(0, 0.431373, 0, 1)
theme_override_fonts/font = ExtResource("17_0i7su")
theme_override_font_sizes/font_size = 120
text = "d"
horizontal_alignment = 1
vertical_alignment = 1
uppercase = true
visible_characters = 1

[node name="TextLabel2" type="Label" parent="BoxCloseup"]
offset_left = 654.0
offset_top = 349.0
offset_right = 808.0
offset_bottom = 708.0
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_colors/font_color = Color(0, 0.431373, 0, 1)
theme_override_fonts/font = ExtResource("17_0i7su")
theme_override_font_sizes/font_size = 120
text = "y"
horizontal_alignment = 1
vertical_alignment = 1
uppercase = true
visible_characters = 1

[node name="TextLabel3" type="Label" parent="BoxCloseup"]
offset_left = 810.0
offset_top = 349.0
offset_right = 963.0
offset_bottom = 708.0
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_colors/font_color = Color(0, 0.431373, 0, 1)
theme_override_fonts/font = ExtResource("17_0i7su")
theme_override_font_sizes/font_size = 120
text = "f"
horizontal_alignment = 1
vertical_alignment = 1
uppercase = true
visible_characters = 1

[node name="TextLabel4" type="Label" parent="BoxCloseup"]
offset_left = 964.0
offset_top = 349.0
offset_right = 1115.0
offset_bottom = 708.0
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_colors/font_color = Color(0, 0.431373, 0, 1)
theme_override_fonts/font = ExtResource("17_0i7su")
theme_override_font_sizes/font_size = 120
text = "g"
horizontal_alignment = 1
vertical_alignment = 1
uppercase = true
visible_characters = 1

[node name="TextLabel5" type="Label" parent="BoxCloseup"]
offset_left = 1118.0
offset_top = 349.0
offset_right = 1271.0
offset_bottom = 708.0
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_colors/font_color = Color(0, 0.431373, 0, 1)
theme_override_fonts/font = ExtResource("17_0i7su")
theme_override_font_sizes/font_size = 120
text = "h"
horizontal_alignment = 1
vertical_alignment = 1
uppercase = true
visible_characters = 1

[node name="TextLabel6" type="Label" parent="BoxCloseup"]
offset_left = 1273.0
offset_top = 349.0
offset_right = 1407.0
offset_bottom = 708.0
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_colors/font_color = Color(0, 0.431373, 0, 1)
theme_override_fonts/font = ExtResource("17_0i7su")
theme_override_font_sizes/font_size = 120
text = "e"
horizontal_alignment = 1
vertical_alignment = 1
uppercase = true
visible_characters = 1

[connection signal="pressed" from="Main/MysteryBox" to="." method="_on_mystery_box_pressed"]
[connection signal="pressed" from="Main/MysteryBoxOpened" to="." method="_on_mystery_box_opened_pressed"]
[connection signal="input_event" from="Main/BedroomDoor" to="." method="_on_bedroom_door_input_event"]
[connection signal="input_event" from="Main/KeyInteractable" to="." method="_on_key_interactable_input_event"]
[connection signal="input_event" from="Main/Documents" to="." method="_on_documents_input_event"]
[connection signal="input_event" from="Main/Radio" to="." method="_on_radio_input_event"]
[connection signal="input_event" from="Main/Bottles" to="." method="_on_bottles_input_event"]
[connection signal="input_event" from="Main/Blinds" to="." method="_on_blinds_input_event"]
[connection signal="input_event" from="Main/Corkboard" to="." method="_on_corkboard_input_event"]
[connection signal="pressed" from="Main/RightNavigation" to="." method="_on_right_navigation_pressed"]
[connection signal="pressed" from="Main/LeftNavigation" to="." method="_on_left_navigation_pressed"]
[connection signal="pressed" from="TableCloseup/WorktableKey" to="." method="_on_worktable_key_pressed"]
[connection signal="input_event" from="TableCloseup/PictureFrame" to="." method="_on_picture_frame_input_event"]
[connection signal="pressed" from="TableCloseup/ReturnButton" to="." method="_on_return_button_pressed"]
[connection signal="pressed" from="WindowCloseup/WindowReturnButton" to="." method="_on_window_return_button_pressed"]
[connection signal="input_event" from="WindowCloseup/BlindsCloseup" to="." method="_on_blinds_closeup_input_event"]
[connection signal="mystery_solved" from="BoxCloseup" to="." method="_on_box_closeup_mystery_solved"]
[connection signal="pressed" from="BoxCloseup/BoxReturnButton" to="." method="_on_box_return_button_pressed"]
[connection signal="input_event" from="BoxCloseup/TopButton1" to="BoxCloseup" method="_on_top_button_1_input_event"]
[connection signal="input_event" from="BoxCloseup/TopButton2" to="BoxCloseup" method="_on_top_button_2_input_event"]
[connection signal="input_event" from="BoxCloseup/TopButton3" to="BoxCloseup" method="_on_top_button_3_input_event"]
[connection signal="input_event" from="BoxCloseup/TopButton4" to="BoxCloseup" method="_on_top_button_4_input_event"]
[connection signal="input_event" from="BoxCloseup/TopButton5" to="BoxCloseup" method="_on_top_button_5_input_event"]
[connection signal="input_event" from="BoxCloseup/TopButton6" to="BoxCloseup" method="_on_top_button_6_input_event"]
[connection signal="input_event" from="BoxCloseup/BottomButton1" to="BoxCloseup" method="_on_bottom_button_1_input_event"]
[connection signal="input_event" from="BoxCloseup/BottomButton2" to="BoxCloseup" method="_on_bottom_button_2_input_event"]
[connection signal="input_event" from="BoxCloseup/BottomButton3" to="BoxCloseup" method="_on_bottom_button_3_input_event"]
[connection signal="input_event" from="BoxCloseup/BottomButton4" to="BoxCloseup" method="_on_bottom_button_4_input_event"]
[connection signal="input_event" from="BoxCloseup/BottomButton5" to="BoxCloseup" method="_on_bottom_button_5_input_event"]
[connection signal="input_event" from="BoxCloseup/BottomButton6" to="BoxCloseup" method="_on_bottom_button_6_input_event"]
[connection signal="input_event" from="BoxCloseup/AnswerButton" to="BoxCloseup" method="_on_answer_button_input_event"]
